(()=>{var e={};e.id=450,e.ids=[450],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},8995:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>f,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{GET:()=>c,POST:()=>l});var o=s(6559),n=s(8088),a=s(7719),i=s(2190),p=s(7449);let u=process.env.GEMINI_API_KEY??"";async function c(){try{console.log("Testing Gemini API...");let e=new p.GoogleGenerativeAI(u).getGenerativeModel({model:"gemini-pro"}),t=await e.generateContent("こんにちは！簡単な挨拶をしてください。"),s=(await t.response).text();return console.log("Gemini API Response:",s),i.NextResponse.json({success:!0,gemini_response:s,message:"Gemini API接続成功"})}catch(e){return console.error("Gemini API Test Error:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",message:"Gemini API接続失敗"},{status:500})}}async function l(){try{console.log("Testing Stable Diffusion API...");let e=await fetch("http://127.0.0.1:7860/sdapi/v1/txt2img",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:"a beautiful anime girl, masterpiece, best quality",negative_prompt:"lowres, bad anatomy",width:512,height:512,steps:10,cfg_scale:7,sampler_name:"DPM++ 2M Karras",batch_size:1,n_iter:1,seed:-1})});if(!e.ok)throw Error(`Stable Diffusion API error: ${e.status} ${e.statusText}`);let t=await e.json();return console.log("Stable Diffusion API Response received"),i.NextResponse.json({success:!0,has_images:!!(t.images&&t.images.length>0),message:"Stable Diffusion API接続成功"})}catch(e){return console.error("Stable Diffusion API Test Error:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",message:"Stable Diffusion API接続失敗"},{status:500})}}u||console.warn("[test] GEMINI_API_KEY が設定されていません");let d=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/test/route",pathname:"/api/test",filename:"route",bundlePath:"app/api/test/route"},resolvedPagePath:"C:\\Users\\kohar\\Desktop\\新しいフォルダー\\ai-chat\\src\\app\\api\\test\\route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:f}=d;function x(){return(0,a.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580,449],()=>s(8995));module.exports=r})();